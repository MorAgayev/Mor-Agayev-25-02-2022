(function(e){function t(t){for(var n,i,o=t[0],c=t[1],u=t[2],p=0,f=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/Mor-Agayev-25-02-2022/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0879":function(e,t,r){e.exports=r.p+"img/default.ef112ee1.png"},"43c1":function(e,t,r){e.exports=r.p+"img/sunny.ff33f0de.png"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("user-msg"),r("app-header"),r("router-view")],1)},s=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"app-header main-layout"},[r("div",{staticClass:"flex align-center space-between"},[r("p",{staticClass:"logo"},[e._v("Weather")]),r("nav",{staticClass:"flex align-center"},[r("ul",{staticClass:"clean-list flex align-center"},[r("router-link",{attrs:{to:"/weather"}},[e._v("Weather")]),r("router-link",{attrs:{to:"/favorites"}},[e._v("Favorites")])],1),e.user?r("avatar",{attrs:{username:this.user.username,size:35}}):r("button",{staticClass:"login-btn",on:{click:e.toggleLoginModal}},[e._v("Login / Signup")])],1),e.isLoginModal?r("login-signup-modal",{on:{closeModal:function(t){e.isLoginModal=!1},getUser:e.getUser}}):e._e()],1)])},o=[],c=r("1da1"),u=(r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-background",on:{click:function(t){return t.target!==t.currentTarget?null:e.closeModal.apply(null,arguments)}}},[r("section",{staticClass:"login-signup-modal flex column align-center p20"},[r("form",{staticClass:"flex column",on:{submit:function(t){return t.preventDefault(),e.loginSignup.apply(null,arguments)}}},[e.isSignup?r("h1",[e._v("Sign Up")]):r("h1",[e._v("Login")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],attrs:{type:"text",placeholder:"Username",required:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e.isSignup?r("button",[e._v("Sign Up")]):r("button",[e._v("Login")])]),r("hr"),e.isSignup?r("small",{on:{click:function(t){e.isSignup=!1}}},[e._v("Login")]):r("small",{on:{click:function(t){e.isSignup=!0}}},[e._v("Sign Up")]),r("small",{on:{click:e.closeModal}},[e._v("Close")])])])}),l=[],p="show-msg",f=new n["default"];function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";f.$emit(p,{txt:e,type:t})}var m={name:"loginSignup",data:function(){return{isSignup:!1,user:{username:"",password:""}}},methods:{loginSignup:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.isSignup){t.next=6;break}return t.next=4,e.$store.dispatch({type:"signup",user:e.user});case 4:t.next=8;break;case 6:return t.next=8,e.$store.dispatch({type:"login",user:e.user});case 8:e.$emit("getUser"),e.closeModal(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),h("Login / Signup faild","error");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},closeModal:function(){this.$emit("closeModal")}}},d=m,v=r("2877"),g=Object(v["a"])(d,u,l,!1,null,null,null),y=g.exports,w=r("4a89"),x=r.n(w),b={name:"app-header",data:function(){return{isLoginModal:!1,user:null}},created:function(){this.getUser()},methods:{getUser:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.getters.getLoggedinUser;case 2:e.user=t.sent;case 3:case"end":return t.stop()}}),t)})))()},toggleLoginModal:function(){this.isLoginModal=!this.isLoginModal},toggleMenu:function(){this.isShowMenu=!this.isShowMenu}},components:{loginSignupModal:y,Avatar:x.a}},T=b,_=Object(v["a"])(T,i,o,!1,null,null,null),F=_.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.alive?r("el-alert",{attrs:{title:e.msg.txt,type:e.msg.type,effect:"dark","show-icon":""}}):e._e()},k=[],W={created:function(){var e=this;f.$on(p,(function(t){e.msg=t;var r=t.delay||2e3;e.alive=!0,setTimeout((function(){e.alive=!1}),r)}))},data:function(){return{alive:!1,msg:null}}},O=W,R=Object(v["a"])(O,C,k,!1,null,null,null),j=R.exports,S={components:{appHeader:F,userMsg:j}},L=S,$=Object(v["a"])(L,a,s,!1,null,null,null),M=$.exports,U=r("8c4f"),I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return this.cityWeather?r("section",{staticClass:"weather-page main-layout"},[r("div",{staticClass:"filter-container flex align-center wrap"},[r("app-filter",{on:{setFilter:e.setFilter}}),r("el-switch",{attrs:{"active-text":"C","inactive-text":"F"},on:{change:e.changeTempType},model:{value:e.isCelsius,callback:function(t){e.isCelsius=t},expression:"isCelsius"}}),e.setIsUser?r("button",{on:{click:e.toggleFavorite}},[e._v(e._s(e.setFavoriteBtn))]):e._e()],1),r("div",{staticClass:"current-weather flex align-center"},[r("img",{attrs:{src:e.setWeatherImg,alt:""}}),r("div",{staticClass:"flex column align-center"},[r("small",[e._v(e._s(this.cityWeather.description))]),r("h3",[e._v(e._s(e.setTempType))]),r("small",[e._v(e._s(this.cityWeather.name))])])]),e.tempType?r("forecasts-list",{attrs:{tempType:e.tempType,forecasts:e.cityWeather.dailyForecasts}}):e._e()],1):e._e()},P=[],V=(r("b0c0"),r("d3b7"),r("caad"),r("2532"),r("a4d3"),r("e01a"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"city-filter",on:{submit:function(t){return t.preventDefault(),e.setFilter.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchVal,expression:"searchVal"}],attrs:{type:"text",placeholder:"Search city"},domProps:{value:e.searchVal},on:{input:function(t){t.target.composing||(e.searchVal=t.target.value)}}})])}),A=[],D={name:"cityFilter",data:function(){return{searchVal:""}},methods:{setFilter:function(){this.$emit("setFilter",this.searchVal),this.searchVal=""}}},N=D,E=Object(v["a"])(N,V,A,!1,null,null,null),J=E.exports,q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"align-center"},[e.forecasts?r("ul",{staticClass:"forecasts-list clean-list simple-cards-grid"},e._l(this.forecasts,(function(t){return r("li",{key:t.EpochDate},[r("forecast-preview",{attrs:{forecast:t,tempType:e.tempType}})],1)})),0):e._e()])},H=[],z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.forecast?r("article",{staticClass:"forecast flex space-between p10"},[r("div",{staticClass:"flex column align-center"},[r("h3",[e._v(e._s(e.setDay))]),r("img",{attrs:{src:e.setWeatherImg,alt:"weather image"}}),r("small",[e._v("Min: "+e._s(e.setMinTemp))]),r("small",[e._v("Max: "+e._s(e.setMaxTemp))])])]):e._e()},B=[],K=(r("b680"),{props:{forecast:Object,tempType:String},computed:{setDay:function(){var e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=new Date(this.forecast.Date).getDay();return e[t]},setMinTemp:function(){var e=null,t=null;if("c"===this.tempType)e=this.forecast.Temperature.Minimum.Value,t=this.forecast.Temperature.Maximum.Unit;else{var r=(1.8*this.forecast.Temperature.Minimum.Value+32).toFixed(1);e=r,t="F"}return e+" "+t},setMaxTemp:function(){var e=null,t=null;if("c"===this.tempType)e=this.forecast.Temperature.Maximum.Value,t=this.forecast.Temperature.Maximum.Unit;else{var r=(1.8*this.forecast.Temperature.Maximum.Value+32).toFixed(1);e=r,t="F"}return e+" "+t},setWeatherImg:function(){var e="default";return this.forecast.Day.IconPhrase.toLowerCase().includes("sunny")&&(e="sunny"),this.forecast.Day.IconPhrase.toLowerCase().includes("cloud")&&(e="cloudy"),this.forecast.Day.IconPhrase.toLowerCase().includes("rain")&&(e="rainy"),this.forecast.Day.IconPhrase.toLowerCase().includes("snow")&&(e="snow"),r("fa71")("./".concat(e,".png"))}}}),Z=K,G=Object(v["a"])(Z,z,B,!1,null,null,null),Q=G.exports,X={name:"forecastList",props:{forecasts:Array,tempType:String},components:{forecastPreview:Q}},Y=X,ee=Object(v["a"])(Y,q,H,!1,null,null,null),te=ee.exports,re={name:"appWeather",data:function(){return{cityWeather:null,user:null,isFavorite:!1,tempType:null,isCelsius:!0}},created:function(){this.tempType=this.$store.getters.getTempType,"c"===this.tempType?this.isCelsius=!0:this.isCelsius=!1},methods:{loadWeather:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"loadWeather"});case 2:e.cityWeather=t.sent;case 3:case"end":return t.stop()}}),t)})))()},loadUser:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.getters.getLoggedinUser;case 2:e.user=t.sent;case 3:case"end":return t.stop()}}),t)})))()},setFilter:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch({type:"loadWeather",city:e});case 3:if(n=r.sent,n){r.next=11;break}return h("Load City Faild","error"),r.next=8,t.$store.dispatch({type:"loadWeather",city:"Tel Aviv"});case 8:t.cityWeather=r.sent,r.next=12;break;case 11:t.cityWeather=n;case 12:t.setIsFavorite(),r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](0),h("Load City Faild","error");case 18:case"end":return r.stop()}}),r,null,[[0,15]])})))()},toggleFavorite:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.isFavorite){t.next=7;break}return t.next=4,e.$store.dispatch({type:"removeFavorite",city:e.cityWeather.name});case 4:h("Remove success"),t.next=10;break;case 7:return t.next=9,e.$store.dispatch({type:"addFavorite",city:e.cityWeather.name});case 9:h("Add ".concat(e.cityWeather.name," to favorites success"));case 10:e.isFavorite=!e.isFavorite,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),e.isFavorite?h("Remove Favorite faild","error"):h("Add Favorite faild","error");case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},changeTempType:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"changeTempType"});case 2:e.tempType=t.sent;case 3:case"end":return t.stop()}}),t)})))()},setIsFavorite:function(){var e=this;this.user&&this.user.favorites.length&&(this.isFavorite=this.user.favorites.some((function(t){return t.name.toLowerCase()===e.cityWeather.name.toLowerCase()})))}},computed:{setFavoriteBtn:function(){return this.isFavorite?"Remove From Favorite":"Add To Favorites"},setWeatherImg:function(){var e="default";return this.cityWeather.description.toLowerCase().includes("sunny")&&(e="sunny"),this.cityWeather.description.toLowerCase().includes("cloud")&&(e="cloudy"),this.cityWeather.description.toLowerCase().includes("rain")&&(e="rainy"),this.cityWeather.description.toLowerCase().includes("snow")&&(e="snow"),r("fa71")("./".concat(e,".png"))},setTempType:function(){return"c"===this.tempType?this.cityWeather.currWeatherC.Value+" "+this.cityWeather.currWeatherC.Unit:this.cityWeather.currWeatherF.Value+" "+this.cityWeather.currWeatherF.Unit},setIsUser:function(){return this.$store.getters.getLoggedinUser}},watch:{"$route.params.cityName":{handler:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e){r.next=6;break}return r.next=3,t.$store.dispatch({type:"loadWeather",city:"Tel Aviv"});case 3:t.cityWeather=r.sent,r.next=15;break;case 6:return r.next=8,t.$store.dispatch({type:"loadWeather",city:e});case 8:if(n=r.sent,n){r.next=14;break}return h("Load City Faild","error"),r.next=13,t.$store.dispatch({type:"loadWeather",city:"Tel Aviv"});case 13:t.cityWeather=r.sent;case 14:t.cityWeather=n;case 15:return r.next=17,t.loadUser();case 17:t.setIsFavorite();case 18:case"end":return r.stop()}}),r)})))()},immediate:!0}},components:{appFilter:J,forecastsList:te}},ne=re,ae=Object(v["a"])(ne,I,P,!1,null,null,null),se=ae.exports,ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.user?r("section",{staticClass:"favorite-page main-layout flex column"},[r("form",{staticClass:"search-container flex align-center justify-center",on:{submit:function(t){return t.preventDefault(),e.addToFavorite.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchVal,expression:"searchVal"}],attrs:{type:"text",placeholder:"Search City"},domProps:{value:e.searchVal},on:{input:function(t){t.target.composing||(e.searchVal=t.target.value)}}}),r("button",[e._v("Add")]),r("el-switch",{attrs:{"active-text":"C","inactive-text":"F"},on:{change:e.changeTempType},model:{value:e.isCelsius,callback:function(t){e.isCelsius=t},expression:"isCelsius"}})],1),r("favorite-list",{attrs:{favorites:e.user.favorites,tempType:e.tempType},on:{removeFavorite:e.removeFavorite,showWeather:e.showWeather}})],1):e._e()},oe=[],ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.favorites?r("ul",{staticClass:"fevorite-list clean-list"},e._l(e.favorites,(function(t){return r("li",{key:t._id},[r("fav-prev",{attrs:{favorite:t,tempType:e.tempType},on:{removeFavorite:e.removeFavorite,showWeather:e.showWeather}})],1)})),0):e._e()},ue=[],le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.favorite?r("article",{staticClass:"fevorite-preview flex column align-center p10",on:{mouseover:function(t){e.isHover=!0},mouseleave:function(t){e.isHover=!1},click:e.showWeather}},[r("h3",[e._v(e._s(e.favorite.name))]),r("img",{attrs:{src:e.setWeatherImg,alt:""}}),r("small",[e._v(e._s(e.setTempType))]),e.isHover?r("div",{staticClass:"actions-container flex align-center space-between p10"},[r("font-awesome-icon",{staticClass:"icon",attrs:{icon:"fa-solid fa-trash-can",title:"Remove favorite"},on:{click:e.remove}})],1):e._e()]):e._e()},pe=[],fe={name:"fav-prev",props:{favorite:Object,tempType:String},data:function(){return{isHover:!1}},methods:{remove:function(){this.$emit("removeFavorite",this.favorite._id)},showWeather:function(){this.$emit("showWeather",this.favorite.name)}},computed:{setWeatherImg:function(){var e="default";return this.favorite.description.toLowerCase().includes("sunny")&&(e="sunny"),this.favorite.description.toLowerCase().includes("cloud")&&(e="cloudy"),this.favorite.description.toLowerCase().includes("rain")&&(e="rainy"),this.favorite.description.toLowerCase().includes("snow")&&(e="snow"),r("fa71")("./".concat(e,".png"))},setTempType:function(){return"c"===this.tempType?this.favorite.currWeatherC.Value+" "+this.favorite.currWeatherC.Unit:this.favorite.currWeatherF.Value+" "+this.favorite.currWeatherF.Unit}}},he=fe,me=Object(v["a"])(he,le,pe,!1,null,null,null),de=me.exports,ve={name:"fav-list",props:{favorites:Array,tempType:String},methods:{removeFavorite:function(e){this.$emit("removeFavorite",e)},showWeather:function(e){this.$emit("showWeather",e)}},components:{favPrev:de}},ge=ve,ye=Object(v["a"])(ge,ce,ue,!1,null,null,null),we=ye.exports,xe={name:"fav-perPage",data:function(){return{user:null,searchVal:"",tempType:null,isCelsius:!0}},created:function(){this.tempType=this.$store.getters.getTempType,"c"===this.tempType?this.isCelsius=!0:this.isCelsius=!1,this.loadUser()},methods:{loadUser:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.getters.getLoggedinUser;case 3:e.user=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),h("Load User Faild","error");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},addToFavorite:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.$store.dispatch({type:"addFavorite",city:e.searchVal}),h("Add Favorite Success")}catch(r){h("Add Favorite Faild","error")}case 1:case"end":return t.stop()}}),t)})))()},removeFavorite:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:try{t.$store.dispatch({type:"removeFavorite",favoriteId:e}),h("Remove Success")}catch(n){h("Remove Faild","error")}case 1:case"end":return r.stop()}}),r)})))()},showWeather:function(e){this.$router.push("/weather/".concat(e))},changeTempType:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"changeTempType"});case 2:e.tempType=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},components:{favoriteList:we}},be=xe,Te=Object(v["a"])(be,ie,oe,!1,null,null,null),_e=Te.exports;n["default"].use(U["a"]);var Fe=[{path:"/weather/:cityName?",name:"Weather",component:se},{path:"/favorites",name:"favoritesPage",component:_e},{path:"/",name:"Weather",component:se}],Ce=new U["a"]({mode:"history",base:"/Mor-Agayev-25-02-2022/",routes:Fe}),ke=Ce,We=r("2f62"),Oe=r("5530"),Re=(r("7db0"),r("99af"),r("e9c4"),r("bc3a")),je=r.n(Re),Se={query:Ue},Le="cities",$e="ZMMfu6g8y490cqbFmOgbociCO52ItS3W",Me=JSON.parse(sessionStorage.getItem(Le))||[];function Ue(){return Ie.apply(this,arguments)}function Ie(){return Ie=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:"tel aviv",!Me.length){e.next=5;break}if(r=Me.find((function(e){return e.name.toLowerCase()===t.toLowerCase()})),!r){e.next=5;break}return e.abrupt("return",r);case 5:return e.next=7,je.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat($e,"&q=").concat(t)).then((function(e){return{code:e.data[0].Key,name:e.data[0].LocalizedName}}));case 7:return n=e.sent,e.next=10,je.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(n.code,"?apikey=").concat($e,"&details=true")).then((function(e){return Object(Oe["a"])(Object(Oe["a"])({},n),{},{currWeatherC:e.data[0].ApparentTemperature.Metric,currWeatherF:e.data[0].ApparentTemperature.Imperial,description:e.data[0].WeatherText})}));case 10:return n=e.sent,e.next=13,je.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(n.code,"?apikey=").concat($e,"&details=true&metric=true")).then((function(e){return e.data.DailyForecasts}));case 13:return n.dailyForecasts=e.sent,Me.push(n),sessionStorage.setItem(Le,JSON.stringify(Me)),e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)}))),Ie.apply(this,arguments)}var Pe={state:{weather:null,city:"tel aviv",tempType:"c"},getters:{getCity:function(e){return e.city},getTempType:function(e){return e.tempType}},mutations:{setWeather:function(e,t){var r=t.weather;e.weather=r},setCity:function(e,t){var r=t.city;e.city=r},setTempType:function(e,t){var r=t.tempType;e.tempType=r}},actions:{loadWeather:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=t.city,r.prev=2,r.next=5,Se.query(a);case 5:return s=r.sent,n({type:"setWeather",weather:s}),n({type:"setCity",city:a}),r.abrupt("return",s);case 11:r.prev=11,r.t0=r["catch"](2),console.log("Load weather failed..",r.t0);case 14:case"end":return r.stop()}}),r,null,[[2,11]])})))()},changeTempType:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.state,t.prev=1,a=n.tempType,a="c"===a?"f":"c",r({type:"setTempType",tempType:a}),t.abrupt("return",a);case 8:t.prev=8,t.t0=t["catch"](1),console.log("Change Temp Type Failed..",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}};r("c740"),r("a434"),r("3835"),r("d9e2"),r("fb6a"),r("25f0"),r("ac1f"),r("5319"),r("a15b"),r("d81d"),r("466d"),r("4e82"),r("498a"),r("c1f9"),r("4de4"),r("4fad"),r("1276");function Ve(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}var Ae=r("bc3a");Ae.create({baseURL:"https://api.unsplash.com",headers:{Accept:"application/json","Content-Type":"application/json"}});var De="user",Ne={login:Je,logout:Be,signup:He,getLoggedinUser:Ze,addFavorite:Ge,removeFavorite:Xe},Ee=JSON.parse(sessionStorage.getItem("users"))||[];function Je(e){return qe.apply(this,arguments)}function qe(){return qe=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Ee.find((function(e){return e.username===t.username&&e.password===t.password})),!r){e.next=3;break}return e.abrupt("return",Ye(r));case 3:return e.abrupt("return",Promise.reject("Invalid username / password"));case 4:case"end":return e.stop()}}),e)}))),qe.apply(this,arguments)}function He(e){return ze.apply(this,arguments)}function ze(){return ze=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t._id=Ve(),t.favorites=[],Ee.push(t),sessionStorage.setItem("users",JSON.stringify(Ee)),e.abrupt("return",Ye(t));case 5:case"end":return e.stop()}}),e)}))),ze.apply(this,arguments)}function Be(){return Ke.apply(this,arguments)}function Ke(){return Ke=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:sessionStorage.removeItem(De);case 1:case"end":return e.stop()}}),e)}))),Ke.apply(this,arguments)}function Ze(){return JSON.parse(sessionStorage.getItem(De))}function Ge(e,t){return Qe.apply(this,arguments)}function Qe(){return Qe=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Se.query(t);case 2:return n=e.sent,n._id=Ve(),r.favorites.push(n),Ye(r),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),Qe.apply(this,arguments)}function Xe(e,t){var r=e.favorites.findIndex((function(e){return e._id===t}));e.favorites.splice(r,1),Ye(e)}function Ye(e){return sessionStorage.setItem(De,JSON.stringify(e)),e}var et={state:{loggedinUser:Ne.getLoggedinUser()},getters:{getLoggedinUser:function(e){return e.loggedinUser}},mutations:{setUser:function(e,t){var r=t.user;e.loggedinUser=r}},actions:{login:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=t.user,r.prev=2,r.next=5,Ne.login(a);case 5:s=r.sent,n({type:"setUser",user:s}),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](2),console.log("Login faild...",r.t0);case 12:case"end":return r.stop()}}),r,null,[[2,9]])})))()},signup:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=t.user,r.prev=2,r.next=5,Ne.signup(a);case 5:s=r.sent,n({type:"setUser",user:s}),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](2),console.log("Signup faild...",r.t0);case 12:case"end":return r.stop()}}),r,null,[[2,9]])})))()},logout:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Ne.logout();case 4:r({type:"setUser",user:null}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log("Logout faild...",t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},addFavorite:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=e.state,s=t.city,r.prev=2,r.next=5,Ne.addFavorite(s,a.loggedinUser);case 5:return i=r.sent,n({type:"setUser",user:i}),r.abrupt("return",i);case 10:r.prev=10,r.t0=r["catch"](2),console.log("Add favorite failed..",r.t0);case 13:case"end":return r.stop()}}),r,null,[[2,10]])})))()},removeFavorite:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.state,a=t.favoriteId;try{Ne.removeFavorite(n.loggedinUser,a)}catch(s){console.log("Remove favorite failed..",s)}case 3:case"end":return r.stop()}}),r)})))()}}};n["default"].use(We["a"]);var tt=new We["a"].Store({modules:{weatherStore:Pe,userStore:et}}),rt=(r("b751"),r("5c96")),nt=r.n(rt),at=(r("0fae"),r("ecee")),st=r("c074"),it=r("ad3d");n["default"].use(nt.a),at["c"].add(st["a"]),n["default"].component("font-awesome-icon",it["a"]),n["default"].config.productionTip=!1,new n["default"]({router:ke,store:tt,render:function(e){return e(M)}}).$mount("#app")},6933:function(e,t,r){e.exports=r.p+"img/cloudy.85e3cbad.png"},a503:function(e,t,r){e.exports=r.p+"img/rainy.cf5ee082.png"},b751:function(e,t,r){},cfc4:function(e,t,r){e.exports=r.p+"img/snow.ea59fdc6.png"},ede7:function(e,t,r){e.exports=r.p+"img/logo.77b21e75.png"},fa71:function(e,t,r){var n={"./cloudy.png":"6933","./default.png":"0879","./logo.png":"ede7","./rainy.png":"a503","./snow.png":"cfc4","./sunny.png":"43c1"};function a(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id="fa71"}});
//# sourceMappingURL=app.0f1dfef3.js.map